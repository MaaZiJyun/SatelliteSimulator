# 天体参数说明文档

本文件用于说明 JSON 数据结构中所使用的天体参数字段、含义及其单位。主要适用于星体、行星、卫星等在轨道模拟与可视化中的定义。

---

## 通用结构

每个天体对象都包括如下主要模块：

- `id`：唯一标识符（字符串）
- `name`：天体名称（字符串）
- `type`：天体类型（例如：`star`, `planet`, `natural-satellite`, `artificial-satellite`）
- `primary`：所属主天体（例如卫星所属行星）
- `physical`：物理属性
- `rotation`：自转参数
- `orbit`：轨道参数（非恒星适用）
- `initialState`：初始位置与速度（用于模拟器）
- `visual`：可视化属性

---

## Physical（物理参数）

| 字段名   | 含义     | 单位      |
| -------- | -------- | --------- |
| `mass`   | 质量     | 千克 (kg) |
| `radius` | 平均半径 | 公里 (km) |

---

## Rotation（自转参数）

| 字段名                 | 含义                                 | 单位          |
| ---------------------- | ------------------------------------ | ------------- |
| `period`               | 自转周期（恒星日）                   | 秒 (s)        |
| `obliquity`            | 地轴倾角（自转轴相对公转轨道的倾角） | 度 (°)        |
| `initialMeridianAngle` | 初始子午线角（相当于格林威治经度）   | 度 (°)        |
| `progradeDirection`    | 顺行自转（true 为顺行）              | 布尔值 (bool) |

---

## Orbit（轨道参数）

适用于除恒星以外的所有天体。

| 字段名                     | 含义                       | 单位           |
| -------------------------- | -------------------------- | -------------- |
| `semiMajorAxis`            | 长半轴（公转轨道大小）     | 公里 (km)      |
| `eccentricity`             | 离心率（轨道扁平程度）     | 无量纲         |
| `inclination`              | 倾角（相对参考面）         | 度 (°)         |
| `longitudeOfAscendingNode` | 升交点经度                 | 度 (°)         |
| `argumentOfPeriapsis`      | 近地点幅角                 | 度 (°)         |
| `meanAnomalyAtEpoch`       | 平近点角（在历元时的位置） | 度 (°)         |
| `epoch`                    | 历元时间（参考时间）       | ISO 时间字符串 |

---

## State（初始状态）

| 字段名     | 含义             | 单位                   |
| ---------- | ---------------- | ---------------------- |
| `position` | 三维初始位置矢量 | 公里 `[x, y, z]`       |
| `velocity` | 三维初始速度矢量 | 公里/秒 `[vx, vy, vz]` |

---

## Visual（可视化参数）

| 字段名      | 含义            | 类型           |
| ----------- | --------------- | -------------- |
| `color`     | 颜色 (十六进制) | 字符串         |
| `texture`   | 贴图路径        | 字符串（路径） |
| `emissive`  | 是否发光        | 布尔值         |
| `wireframe` | 是否线框渲染    | 布尔值（可选） |

---

## 附加结构

### groundStations（地面站）和 observationPoints（观测点）

| 字段名 | 含义 | 单位   |
| ------ | ---- | ------ |
| `lat`  | 纬度 | 度 (°) |
| `lon`  | 经度 | 度 (°) |
| `alt`  | 高度 | 米 (m) |

### 后期将会加入卫星等附加结构，例如电量/CPU/传输速率/Camera FoV

| 字段名                | 单位 | 含义         | 模拟作用                         |
| --------------------- | ---- | ------------ | -------------------------------- |
| batteryCapacity       | Wh   | 电池最大能量 | 用于判断任务持续时间             |
| batteryLevel          | Wh   | 当前剩余电量 | 每帧更新电量变化                 |
| solarChargeRate       | W    | 白天充电功率 | 决定充电速度（受阳光角度影响）   |
| computePowerUsage     | W    | 主控板耗电   | 与耗电速率联动，参与电量计算     |
| camera.fov            | °    | 相机视角     | 用于渲染、地图投影、目标捕获范围 |
| camera.gsd            | m/px | 地面分辨率   | 决定成像精度                     |
| data.transmissionRate | Mbps | 数据下行速度 | 决定地面站传输时间               |
| data.storageCapacity  | GB   | 本地存储极限 | 限制未传输数据容量               |
| data.storageUsed      | GB   | 已使用存储   | 每次拍照或记录都会增加           |

---

## 示例（地球自转参数）

```json
"rotation": {
  "period": 86164,
  "obliquity": 23.44,
  "initialMeridianAngle": 0,
  "progradeDirection": true
}
```

表示地球的自转周期为86164秒（即一个恒星日），倾角为23.44°，为顺时针自转（北极向上视角下为逆时针）。

---